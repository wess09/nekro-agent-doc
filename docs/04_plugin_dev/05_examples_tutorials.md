# 示例与教程

理论知识是基础，但通过实际的示例和教程能更好地帮助开发者理解和掌握 Nekro Agent 插件的开发技巧。本章节将提供一系列从简单到复杂的插件示例，逐步展示如何运用前面章节中介绍的核心概念和高级功能来构建不同类型的插件。

每个示例都将包含完整的代码、详细的步骤解释以及预期的运行效果，旨在让你能够动手实践，快速上手。

## 学习目标

通过本章节的示例，你将学习到：

*   如何构建一个基础的工具型插件。
*   如何利用 `plugin.store` 进行数据的持久化存储和读取。
*   如何实现一个 Webhook 接入点来接收和处理外部系统的通知。
*   如何结合 Qdrant 向量数据库实现语义搜索功能。
*   综合运用配置、生命周期、沙盒方法等多种插件特性。

## 示例列表

以下是本章节计划包含的示例教程：

1.  **[简单工具插件](./05_examples_tutorials/5.1_simple_tool_plugin.md)**:
    *   创建一个提供基本计算或文本处理功能的沙盒方法 (`SandboxMethodType.TOOL`)。
    *   包含插件定义、沙盒方法注册和简单的配置项。

2.  **[数据存储插件](./05_examples_tutorials/5.2_data_storage_plugin.md)**:
    *   演示如何使用 `plugin.store` API (set, get, delete)。
    *   实现一个简单的笔记记录或用户偏好设置功能，区分会话数据和用户全局数据。
    *   结合 Pydantic 模型进行结构化数据的存储和读取。

3.  **[Webhook 接收插件](./05_examples_tutorials/5.3_webhook_plugin.md)**:
    *   创建一个 Webhook 端点 (`@plugin.mount_webhook_method()`)。
    *   模拟接收外部系统的 POST 请求 (例如 JSON payload)。
    *   进行简单的安全验证（如固定 Token）。
    *   处理接收到的数据，并通过消息 API (`message.send_text`) 通知到指定会话。

4.  **[Qdrant 向量搜索插件](./05_examples_tutorials/5.4_qdrant_search_plugin.md)**:
    *   在插件初始化时创建 Qdrant 集合。
    *   提供沙盒方法，允许用户添加文本到向量数据库（包括文本嵌入的过程，可使用模拟的嵌入函数）。
    *   提供沙盒方法，根据用户查询进行语义搜索，并返回最相关的结果。

我们鼓励你不仅阅读这些示例，更要亲自动手修改和运行它们，甚至尝试在此基础上扩展新的功能。在实践中学习是掌握插件开发的最佳途径。

让我们从第一个示例开始吧！ 