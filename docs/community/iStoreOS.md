---
title: iStoreOS éƒ¨ç½² Nekro Agent
description: åœ¨ iStoreOS è½¯è·¯ç”±ç³»ç»Ÿä¸Šéƒ¨ç½² Nekro Agentã€‚iStoreOS åŸºäº OpenWRTï¼Œä½¿ç”¨ ash shell ç¯å¢ƒï¼Œæˆ‘ä»¬æä¾›ä¸“é—¨é€‚é…çš„å®‰è£…è„šæœ¬ã€‚
---


# iStoreOS éƒ¨ç½² Nekro Agent

åœ¨ iStoreOS è½¯è·¯ç”±ç³»ç»Ÿä¸Šéƒ¨ç½² Nekro Agentã€‚iStoreOS åŸºäº OpenWRTï¼Œä½¿ç”¨ ash shell ç¯å¢ƒï¼Œæˆ‘ä»¬æä¾›ä¸“é—¨é€‚é…çš„å®‰è£…è„šæœ¬ã€‚


## ğŸ“‹ å‰ç½®è¦æ±‚

åœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ iStoreOS ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- **Docker ç¯å¢ƒ**ï¼šiStoreOS Docker å·²è¿ç§»æ ¹ç›®å½•
- **å­˜å‚¨ç©ºé—´**ï¼šDocker æ ¹ç›®å½•è‡³å°‘æœ‰ 10GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œè¿æ¥**ï¼šèƒ½å¤Ÿæ­£å¸¸è®¿é—® GitHub å’Œ Docker.io

## ğŸš€ éƒ¨ç½²æ–¹å¼

### ä¸€é”®éƒ¨ç½²

ä¸€é”®éƒ¨ç½² Nekro Agent æ ¸å¿ƒæœåŠ¡åŠ Napcat åè®®ç«¯ï¼Œæä¾›å®Œæ•´çš„æœºå™¨äººè§£å†³æ–¹æ¡ˆã€‚

::: warning å®‰å…¨è­¦å‘Š
1. **åŠ¡å¿…ä¿®æ”¹ NapCat é»˜è®¤å¯†ç **ï¼šå…¬ç½‘ WebUI å¿…é¡»ä½¿ç”¨å¼ºå¯†ç ï¼ˆå»ºè®®12ä½ä»¥ä¸Šï¼Œå«æ•°å­—ã€å­—æ¯ã€ç¬¦å·ï¼‰
2. **åŠ¡å¿…ä½¿ç”¨ Token éªŒè¯**ï¼šOneBot æœåŠ¡åŠ¡å¿…è®¾ç½®æœ‰æ•ˆ Tokenï¼Œé¿å…ç©º Token æˆ–å¼±å£ä»¤
3. **ä¸ºå®‰å…¨èµ·è§ï¼Œè¯·é¿å…ä½¿ç”¨é»˜è®¤ç«¯å£**
:::

#### éƒ¨ç½²å‘½ä»¤

```bash
# bin/ash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/KroMiose/nekro-agent/refs/heads/main/docker/wrtinstall.sh)" - --with-napcat
```

éƒ¨ç½²å®Œæˆåï¼Œè¯·å‚è€ƒ[åè®®ç«¯é…ç½®-Napcat](/docs/02_quick_start/config/protocol.html#napcat-é›†æˆéƒ¨ç½²-æ¨è)æ–‡æ¡£å®Œæˆåç»­é…ç½®ã€‚


## âš™ï¸ å®‰è£…è¿‡ç¨‹è¯¦è§£

### 1. ç¯å¢ƒæ£€æµ‹

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- **Docker ç¯å¢ƒ**ï¼šéªŒè¯ Docker æ˜¯å¦å·²å®‰è£…å¹¶è¿è¡Œ
- **Docker Compose**ï¼šè‡ªåŠ¨å®‰è£…æˆ–ä½¿ç”¨ç°æœ‰ç‰ˆæœ¬
- **å­˜å‚¨ç©ºé—´**ï¼šæ£€æŸ¥ Docker æ ¹ç›®å½•æ˜¯å¦æœ‰è¶³å¤Ÿç©ºé—´

### 2. ç›®å½•é…ç½®

- **é»˜è®¤ç›®å½•**ï¼š`~/srv/nekro_agent`
- **è‡ªå®šä¹‰ç›®å½•**ï¼šæ‰‹åŠ¨ç¼–è¾‘`.env`æ–‡ä»¶

### 3. è‡ªåŠ¨é…ç½®

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹é…ç½®ï¼š

- **ç”Ÿæˆå®‰å…¨å‡­è¯**ï¼šè‡ªåŠ¨åˆ›å»ºéšæœºçš„è®¿é—®ä»¤ç‰Œå’Œç®¡ç†å‘˜å¯†ç 
- **ä¸‹è½½é…ç½®æ–‡ä»¶**ï¼šä»ä»“åº“è·å–æœ€æ–°çš„ docker-compose é…ç½®
- **æ‹‰å–æœåŠ¡é•œåƒ**ï¼šä¸‹è½½æ‰€éœ€çš„ Docker é•œåƒ

### 4. é˜²ç«å¢™é…ç½®

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨é…ç½® OpenWRT é˜²ç«å¢™ï¼Œæ”¾è¡Œä»¥ä¸‹ç«¯å£ï¼š

- **Nekro Agent ä¸»æœåŠ¡**ï¼š`8021/tcp`ï¼ˆå¯åœ¨ .env ä¸­è‡ªå®šä¹‰ï¼‰
- **Napcat æœåŠ¡**ï¼š`6099/tcp`ï¼ˆå¯åœ¨ .env ä¸­è‡ªå®šä¹‰ï¼‰

## âš™ï¸ éƒ¨ç½²åé…ç½®

- **æ ‡å‡†éƒ¨ç½²**: å‰å¾€[åè®®ç«¯é…ç½®](/docs/02_quick_start/config/protocol.html#napcat-é›†æˆéƒ¨ç½²-æ¨è)æ–‡æ¡£ï¼Œæ ¹æ®æ–‡æ¡£è¯´æ˜å®Œæˆé…ç½®ã€‚
- **æ ¸å¿ƒéƒ¨ç½²**: å‰å¾€[åè®®ç«¯é…ç½®](/docs/02_quick_start/config/protocol)æ–‡æ¡£ï¼Œå‚è€ƒè¯´æ˜ç»§ç»­é…ç½®ã€‚

## ğŸš€ åº”ç”¨æ›´æ–°

iStoreOS ç¯å¢ƒè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°åº”ç”¨

### è¿›å…¥æ•°æ®ç›®å½•

```bash
# å¦‚æœä¿®æ”¹äº†æ•°æ®ç›®å½•ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè®¾ç½®
export NEKRO_DATA_DIR=${HOME}/srv/nekro_agent && \
cd ${NEKRO_DATA_DIR}
```

### ä»…æ›´æ–° Nekro Agent å’Œæ²™ç›’é•œåƒ (æ¨è)

```bash
 docker pull kromiose/nekro-agent-sandbox && \
 docker-compose --env-file .env pull nekro_agent && \
 docker-compose --env-file .env up --build -d nekro_agent
```

### æ›´æ–°æ‰€æœ‰é•œåƒå¹¶é‡å¯å®¹å™¨ (å¦‚æœéœ€è¦åŒæ—¶æ›´æ–° NapCat æˆ–å…¶ä»–æ•°æ®æ”¯æŒæœåŠ¡)

> è¯¥å‘½ä»¤ä¼šæ›´æ–° `nekro-agent` é•œåƒå’Œæ‰€æœ‰ä¾èµ–çš„é•œåƒï¼Œå¯èƒ½å¯¼è‡´ Bot æ‰çº¿éœ€è¦é‡æ–°ç™»å½•

```bash
 docker-compose --env-file .env pull && \
 docker-compose --env-file .env up --build -d
```

## ğŸ“ æ›´æ–°æ—¥å¿—

æ¯æ¬¡æ›´æ–°åï¼Œå¯ä»¥åœ¨ [GitHub Releases](https://github.com/KroMiose/nekro-agent/releases) æŸ¥çœ‹æ›´æ–°æ—¥å¿—äº†è§£å˜æ›´å†…å®¹



