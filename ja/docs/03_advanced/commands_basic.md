---
title: 基本コマンドガイド
description: "Nekro Agent基本コマンドガイド。チャット管理やプラグイン表示などの日常管理コマンドをカバー。OneBot V11アダプター（QQプラットフォーム）にのみ適用"
---

# 基本コマンドガイド

このドキュメントでは、Nekro Agentの基本管理コマンドを紹介します。これらのコマンドは、チャット管理やプラグイン表示などの日常操作に使用されます。

::: warning プラットフォーム制限
現在、すべてのコマンドはOneBot V11アダプター（つまりQQプラットフォーム）でのみ利用可能で、他のプロトコルクライアントはサポートされていません。
:::

## 権限説明

コマンド権限は以下のタイプに分けられます：

- **スーパー管理者**：`config.SUPER_USERS`で設定されたユーザー。すべてのコマンド権限を持つ
- **グループ管理者**：グループチャットでの一部のコマンド（`reset`など）のみ権限を持つ
- **プライベートチャットユーザー**：プライベートチャットでの一部のコマンド権限を持つ

::: tip ヒント
`config.ENABLE_COMMAND_UNAUTHORIZED_OUTPUT`が`false`に設定されている場合、権限のないユーザーがコマンドを実行しても出力フィードバックはありません。
:::

## チャット管理コマンド

### reset

**機能**：指定したチャットのチャット履歴をクリアする

**構文**：`reset [chat_key]`

**権限要件**：

- スーパー管理者：任意のチャットを操作可能
- グループ管理者：現在のグループチャットのみ操作可能
- プライベートチャットユーザー：現在のプライベートチャットのみ操作可能

**パラメータ説明**：

- `chat_key`（オプション）：クリアするチャット識別子。省略した場合は現在のチャット

**使用例**：

```
reset                    # 現在のチャット履歴をクリア
reset group_123456789    # 指定したグループチャット履歴をクリア（スーパー管理者のみ）
```

### inspect

**機能**：指定したチャットの基本情報を表示する

**構文**：`inspect [chat_key]`

**権限要件**：スーパー管理者

**パラメータ説明**：

- `chat_key`（オプション）：照会するチャット識別子。省略した場合は現在のチャット

**使用例**：

```
inspect                  # 現在のチャット情報を表示
inspect group_123456789  # 指定したチャット情報を表示
```

### na_on / na-on

**機能**：指定したチャットのチャット機能を有効にする

**構文**：`na_on [target]`

**権限要件**：スーパー管理者

**パラメータ説明**：

- `target`（オプション）：操作対象。以下の値をサポート：
  - 省略：現在のチャット
  - `*`：すべてのチャット
  - `private_*`：すべてのプライベートチャット
  - `group_*`：すべてのグループチャット
  - 特定のチャット識別子：指定したチャット

**使用例**：

```
na_on                    # 現在のチャネルチャットを有効にする
na_on *                  # すべてのチャネルチャットを有効にする
na_on private_*          # すべてのプライベートチャネルチャットを有効にする
na_on group_*            # すべてのグループチャネルチャットを有効にする
na_on group_123456789    # 指定したグループチャネルチャットを有効にする
```

### na_off / na-off

**機能**：指定したチャットのチャット機能を無効にする

**構文**：`na_off [target]`

**権限要件**：スーパー管理者

**パラメータ説明**：`na_on`と同じ

**使用例**：

```
na_off                   # 現在のチャネルチャットを無効にする
na_off *                 # すべてのチャネルチャットを無効にする
na_off private_*         # すべてのプライベートチャネルチャットを無効にする
na_off group_*           # すべてのグループチャネルチャットを無効にする
na_off group_123456789   # 指定したグループチャネルチャットを無効にする
```

## システム情報コマンド

### na_info / na-info

**機能**：システム情報と現在のチャット設定を表示する

**構文**：`na_info`

**権限要件**：スーパー管理者

**表示内容**：

- Nekro Agentバージョン情報
- Docker環境で実行中かどうか
- 現在のチャットペルソナ設定
- 現在使用中のモデルグループ

**使用例**：

```
na_info
```

### na_help / na-help

**機能**：コマンドヘルプ情報を表示する

**構文**：`na_help`

**権限要件**：スーパー管理者

**表示内容**：

- 利用可能なすべてのコマンドの簡単な説明
- コマンドのカテゴリと使用方法
- システムバージョンとプロジェクトリンク

**使用例**：

```
na_help
```

## プラグイン管理コマンド

### na_plugins / na-plugins / nps

**機能**：現在読み込まれているプラグインのリストと詳細情報を表示する

**構文**：`na_plugins`

**権限要件**：スーパー管理者

**表示内容**：

- プラグイン名、バージョン、ステータス
- プラグイン作者と説明
- プラグイン機能統計（サンドボックスメソッド数、プロンプト注入数、Webhook数）
- プラグイン総数統計

**使用例**：

```
na_plugins
```

### plugin_info / plugin-info / npi

**機能**：指定したプラグインの詳細情報を表示する

**構文**：`plugin_info <plugin_name_or_key>`

**権限要件**：スーパー管理者

**パラメータ説明**：

- `plugin_name_or_key`：プラグイン名またはプラグインキー名。あいまい一致をサポート

**一致優先順位**：

1. 完全なキー名一致（大文字小文字区別）
2. 完全なキー名一致（大文字小文字区別なし）
3. 完全なプラグイン名一致（大文字小文字区別）
4. 完全なプラグイン名一致（大文字小文字区別なし）
5. 部分的なキー名一致
6. 部分的なプラグイン名一致

**表示内容**：

- プラグイン基本情報（名前、バージョン、ステータス、作者など）
- 機能統計
- 設定情報
- メソッドリスト

**使用例**：

```
plugin_info emotion      # 表情スタンププラグイン情報を表示
plugin_info draw         # 描画プラグイン情報を表示
```

### reset_plugin / reset-plugin

**機能**：指定したプラグインの設定ファイルをリセットする

**構文**：`reset_plugin <plugin_name_or_key>`

**権限要件**：スーパー管理者

**パラメータ説明**：

- `plugin_name_or_key`：プラグイン名またはプラグインキー名

**一致ルール**：`plugin_info`と同じ

**注意事項**：

- この操作はプラグインの設定ファイルを削除します
- プラグインはデフォルト設定状態に戻ります
- この操作は元に戻せません

**使用例**：

```
reset_plugin emotion     # 表情スタンププラグイン設定をリセット
reset_plugin draw        # 描画プラグイン設定をリセット
```

## 注意事項

1. **権限制御**：すべてのコマンドには厳格な権限制御があり、権限のないユーザーは実行できません
2. **チャットステータス**：一部のコマンドは実行するためにチャットがアクティブ状態である必要があります
3. **パラメータ検証**：コマンドはパラメータの有効性を検証し、無効なパラメータはエラーメッセージを返します
4. **操作確認**：一部の操作（設定のリセットなど）は元に戻せないため、注意して使用してください
5. **プラットフォーム制限**：現在はOneBot V11アダプター（QQプラットフォーム）のみをサポートしています

::: tip さらにヘルプを取得

- `na_help`コマンドを使用して利用可能なすべてのコマンドを表示
- [デバッグコマンドガイド](/ja/docs/03_advanced/commands_debug)を確認して高度なデバッグ機能を学習
- [GitHubプロジェクト](https://github.com/KroMiose/nekro-agent)にアクセスして最新情報を取得
  :::