---
title: iStoreOSã¸ã®Nekro Agentãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
description: iStoreOSã‚½ãƒ•ãƒˆãƒ«ãƒ¼ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¸ã®Nekro Agentã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€‚iStoreOSã¯OpenWRTãƒ™ãƒ¼ã‚¹ã§ashã‚·ã‚§ãƒ«ç’°å¢ƒã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ç‰¹åˆ¥ã«é©å¿œã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚
---


# iStoreOSã¸ã®Nekro Agentãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

iStoreOSã‚½ãƒ•ãƒˆãƒ«ãƒ¼ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¸ã®Nekro Agentã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€‚iStoreOSã¯OpenWRTãƒ™ãƒ¼ã‚¹ã§ashã‚·ã‚§ãƒ«ç’°å¢ƒã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ç‰¹åˆ¥ã«é©å¿œã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚


## ğŸ“‹ å‰ææ¡ä»¶

ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€iStoreOSã‚·ã‚¹ãƒ†ãƒ ãŒä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- **Dockerç’°å¢ƒ**: iStoreOS DockerãŒãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»è¡Œæ¸ˆã¿
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡**: Dockerãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å°‘ãªãã¨ã‚‚10GBã®ç©ºãå®¹é‡
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶š**: GitHubã¨Docker.ioã«æ­£å¸¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ–¹æ³•

### ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

Nekro Agentã‚³ã‚¢ã‚µãƒ¼ãƒ“ã‚¹ã¨Napcatãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€å®Œå…¨ãªãƒœãƒƒãƒˆã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚

::: warning ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Š
1. **NapCatãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿…ãšå¤‰æ›´**: å…¬é–‹WebUIã¯å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆ12æ–‡å­—ä»¥ä¸Šã€æ•°å­—ã€æ–‡å­—ã€è¨˜å·ã‚’å«ã‚€ã“ã¨ã‚’æ¨å¥¨ï¼‰
2. **å¿…ãšãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼ã‚’ä½¿ç”¨**: OneBotã‚µãƒ¼ãƒ“ã‚¹ã«ã¯æœ‰åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã€ç©ºã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚„å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’é¿ã‘ã¦ãã ã•ã„
3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã«ã‚ˆã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆã®ä½¿ç”¨ã¯é¿ã‘ã¦ãã ã•ã„**
:::

#### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚³ãƒãƒ³ãƒ‰

```bash
# bin/ash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/KroMiose/nekro-agent/refs/heads/main/docker/wrtinstall.sh)" - --with-napcat
```

ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå®Œäº†å¾Œã€[ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š - Napcat](/ja/docs/02_quick_start/config/protocol.html#napcat-integrated-deployment-recommended)ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ã€å¾Œç¶šã®è¨­å®šã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚


## âš™ï¸ è©³ç´°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ—ãƒ­ã‚»ã‚¹

### 1. ç’°å¢ƒæ¤œå‡º

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

- **Dockerç’°å¢ƒ**: DockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œå®Ÿè¡Œä¸­ã‹ç¢ºèª
- **Docker Compose**: è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ—¢å­˜ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡**: Dockerãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ååˆ†ãªç©ºãå®¹é‡ãŒã‚ã‚‹ã‹ç¢ºèª

### 2. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè¨­å®š

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `~/srv/nekro_agent`
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: æ‰‹å‹•ã§`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

### 3. è‡ªå‹•è¨­å®š

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«ä»¥ä¸‹ã®è¨­å®šã‚’å®Œäº†ã—ã¾ã™ï¼š

- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è³‡æ ¼æƒ…å ±ã®ç”Ÿæˆ**: ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã¨ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è‡ªå‹•ä½œæˆ
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰æœ€æ–°ã®docker-composeè¨­å®šã‚’å–å¾—
- **ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ—ãƒ«**: å¿…è¦ãªDockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

### 4. ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«OpenWRTãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒˆã‚’é–‹ãã¾ã™ï¼š

- **Nekro Agentãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: `8021/tcp`ï¼ˆ.envã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰
- **Napcatã‚µãƒ¼ãƒ“ã‚¹**: `6099/tcp`ï¼ˆ.envã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰

## âš™ï¸ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå¾Œã®è¨­å®š

- **æ¨™æº–ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ**: [ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š](/ja/docs/02_quick_start/config/protocol.html#napcat-integrated-deployment-recommended)ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç§»å‹•ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¾“ã£ã¦è¨­å®šã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚
- **ã‚³ã‚¢ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ**: [ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­å®š](/ja/docs/02_quick_start/config/protocol)ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ç§»å‹•ã—ã€æŒ‡ç¤ºã‚’å‚ç…§ã—ã¦è¨­å®šã‚’ç¶šè¡Œã—ã¦ãã ã•ã„ã€‚

## ğŸš€ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°

iStoreOSç’°å¢ƒã§ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¦ãã ã•ã„

### ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å…¥ã‚‹

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¤‰æ›´ã—ãŸå ´åˆã¯ã€å®Ÿéš›ã®çŠ¶æ³ã«å¿œã˜ã¦è¨­å®š
export NEKRO_DATA_DIR=${HOME}/srv/nekro_agent && \
cd ${NEKRO_DATA_DIR}
```

### Nekro Agentã¨ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã¿ã‚’æ›´æ–°ï¼ˆæ¨å¥¨ï¼‰

```bash
 docker pull kromiose/nekro-agent-sandbox && \
 docker-compose --env-file .env pull nekro_agent && \
 docker-compose --env-file .env up --build -d nekro_agent
```

### ã™ã¹ã¦ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã¦ã‚³ãƒ³ãƒ†ãƒŠã‚’å†èµ·å‹•ï¼ˆNapCatã‚„ä»–ã®ãƒ‡ãƒ¼ã‚¿ã‚µãƒãƒ¼ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã‚’åŒæ™‚ã«æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆï¼‰

> ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯`nekro-agent`ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã™ã¹ã¦ã®ä¾å­˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ›´æ–°ã—ã€ãƒœãƒƒãƒˆãŒã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€å†ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™

```bash
 docker-compose --env-file .env pull && \
 docker-compose --env-file .env up --build -d
```

## ğŸ“ å¤‰æ›´å±¥æ­´

å„æ›´æ–°å¾Œã€[GitHub Releases](https://github.com/KroMiose/nekro-agent/releases)ã‚’ç¢ºèªã—ã¦å¤‰æ›´å±¥æ­´ã‚’è¡¨ç¤ºã—ã€å¤‰æ›´ç‚¹ã‚’ç†è§£ã§ãã¾ã™